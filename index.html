<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Yuji+Mai&display=swap"
      rel="stylesheet"
    />
    <title>Yassin Amr portfolio</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="homecontent.css" />
    <link rel="stylesheet" href="aboutcontent.css" />
    <link rel="stylesheet" href="services.css" />
    <link rel="stylesheet" href="projectscontent.css" />
  </head>
  <body>
    <div class="loading-screen">
      <p>
        Welcome with <span class="highlite-one">Yassin Amr</span>
        <span class="dots">...</span>
      </p>
    </div>

    <div class="behind-screen"></div>
    <!-- Custom Cursor -->
    <div class="cursor"></div>

    <header>
      <div class="signature-container">
        <img src="icons/signature.png" class="signimg" />
        <div class="Lthree">
          <span class="lineone"></span>
          <span class="linetwo"></span>
        </div>

        <div class="Lfour">
          <span class="lineone"></span>
          <span class="linetwo"></span>
        </div>
      </div>

      <button><img src="icons/home.png" class="icon" /> Home</button>
      <button
        onclick="document.getElementById('about-content').scrollIntoView({ behavior: 'smooth' });"
      >
        <img src="icons/user.png" class="icon" /> About
      </button>
      <button><img src="icons/briefcase.png" class="icon" /> Services</button>
      <button><img src="icons/list.png" class="icon" /> Projects</button>
      <button><img src="icons/chat.png" class="icon" /> Contact</button>
    </header>

    <button class="upperbutton settings" style="z-index: 100">
      <img
        src="icons/setting.png"
        class="icon"
        style="animation: rotate 2s linear infinite"
      />
    </button>
    <button class="upperbutton lightmode" style="z-index: 100">
      <img src="icons/sun.png" class="icon" />
    </button>
    <div class="settings-panel">
      <p>Theme Color</p>
      <div class="button-container">
        <button
          style="background-color: red"
          onclick="themeColor('red')"
        ></button>
        <button
          style="background-color: orange"
          onclick="themeColor('orange')"
        ></button>
        <button
          style="background-color: lightblue"
          onclick="themeColor('lightblue')"
        ></button>
        <button
          style="background-color: lightgreen"
          onclick="themeColor('lightgreen')"
        ></button>
        <button
          style="background-color: purple"
          onclick="themeColor('purple')"
        ></button>
      </div>
    </div>

    <section class="home-content">
      <div class="text-content">
        <p>Hello, my name is <span class="highlite-one">Yassin Amr</span></p>
        <p>
          I'm a <span class="highlite-two">Web Developer</span
          ><strong>I</strong>
        </p>
        <p class="disc discone">
          <!-- discone text -->
        </p>
      </div>

      <div class="image-container">
        <img src="images/yassin.png" class="profileimg" />
        <div class="Lone">
          <span class="lineone"></span>
          <span class="linetwo"></span>
        </div>
        <div class="Ltwo">
          <span class="lineone"></span>
          <span class="linetwo"></span>
        </div>
      </div>
    </section>

    <section class="about-content" id="about-content">
      <div class="about-title">
        <p class="about scrolls" style="transition: all 0.5s">About Me</p>
        <div class="double-underline scrolls" style="transition: all 0.5s">
          <span class="underline"></span>
          <span class="underlinetwo"></span>
        </div>
      </div>
      <div class="about-text-content">
        <p>
          I'm Yassin Amr and I am a
          <span class="highlite-two">Web Developer</span>
        </p>
        <br />
        <p class="disc disctwo" style="font-size: 1.2rem">
          <!-- disctwo text -->
        </p>
      </div>
      <div class="more-info">
        <div class="info-column">
          <p><strong>Birthday:</strong> 10 December 2009</p>
          <p><strong>Age:</strong> 15</p>
          <p>
            <strong>Email:</strong>
            <a href="mailto:yassin5amr55@gmail.com">yassin5amr55@gmail.com</a>
          </p>
          <p>
            <strong>Phone:</strong> <a href="tel:+01066004890">01066004890</a>
          </p>
        </div>
        <div class="info-column">
          <p><strong>Freelance:</strong> Available</p>
          <p>
            <strong>Location:</strong>
            <a href="https://maps.app.goo.gl/zmjqNV1cFJiTuof18"
              >Giza Governorate, Egypt</a
            >
          </p>
          <p><strong>Education:</strong> Self-taught</p>
          <p class="experienceinfo"> <!-- experienceinfo here --> </p>
        </div>
      </div>

      <div class="path">
        <h1>Path</h1>
        <div class="path-container">

          <div class="path-left">
            
          </div>

          <div class="path-right">
            
          </div>

        </div>
      </div>
    </section>

    <section class="services-content">
      <div class="services-title">
        <p class="services scrolls" style="transition: all 0.5s">services</p>
        <div class="double-underlines scrolls" style="transition: all 0.5s">
          <span class="underlines"></span>
          <span class="underlinetwos"></span>
        </div>
      </div>

      <div class="services-services">
        <div class="upper-services service-column">
          <div class="service-item">
            <img class="icon" src="icons/user.png">
            <h1>Personal Website</h1>
            <p>I can help create any high-end personal website for anyone.</p>
          </div>
          <div class="service-item">
            <img class="icon" src="icons/briefcase.png">
            <h1>Company Website</h1>
            <p>I help companies in creating their own website that is designed and developed according to their business to attract more customers.</p>
          </div>
        </div>
        <div class="lower-services service-column">
          <div class="service-item">
            <img class="icon" src="icons/code.png">
            <h1>Interactive Websites</h1>
            <p>I can create the most interactive website with animation and a lot of other features that will make your website stand out.</p>
          </div>
          <div class="service-item">
            <img class="icon" src="icons/chat.png">
            <h1>Developing Partner</h1>
            <p>I can join other developers to help them develop and create their website or a project they are working on.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="projects-content">
      <div class="projects-title">
        <p class="projects scrolls" style="transition: all 0.5s">Projects</p>
        <div class="double-underline scrolls" style="transition: all 0.5s">
          <span class="underline"></span>
          <span class="underlinetwo"></span>
        </div>
      </div>
      
      <div class="projects-projects">
        <div class="upper-services projects-column">
          <div class="projects-item">
            <img src="images/summit.png">
            <a href="summittecs.com" class="projectsTitle"><h1>Summit Tecs</h1></a>
            <p>Summit Tecs is a company and is my first client. <a href="summittecs.com">summittecs.com</a> is one of my greatest projects with multiple pages and over 9000 lines of code taking a month to complete.</p>
          </div>
        </div>
      </div>
    </section>

    <script src="data/paths.js"></script>
    <script>

      //info

      const experience = 9;

      const discone = document.querySelector(".discone");
      const experienceinfo = document.querySelector(".experienceinfo");
      discone.innerHTML = `I'm a front-end Developer covering ${experience} months experience<br />but with high coding skills and pation. I love working<br />with others to build there dream website.`;
      experienceinfo.innerHTML = `<strong>Experience:</strong> ${experience} months`;

      // Adjust about content position in different screens
      function updateAboutContentPosition() {
        const homeContent = document.querySelector('.home-content');
        const aboutContent = document.querySelector('.about-content');

        const homeContentHeight = homeContent.offsetHeight;
        aboutContent.style.top = `${homeContentHeight -100}px`;
      }

      // Adjust services content position in different screens
      function updateServicesContentPosition() {
        const aboutContent = document.querySelector('.about-content');
        const servicesContent = document.querySelector('.services-content');

        const aboutContentHeight = aboutContent.offsetHeight;
        servicesContent.style.top = `${aboutContentHeight + aboutContent.offsetTop -100}px`;
      }

      // Adjust projects content position in different screens
      function updateProjectsContentPosition() {
        const servicesContent = document.querySelector('.services-content');
        const projectsContent = document.querySelector('.projects-content');

        const servicesContentHeight = servicesContent.offsetHeight;
        projectsContent.style.top = `${servicesContentHeight + servicesContent.offsetTop -100}px`;
      }

      // Add event listeners
      window.addEventListener('resize', () => {
        updateAboutContentPosition();
        updateServicesContentPosition();
        updateProjectsContentPosition();
      });

      window.addEventListener('DOMContentLoaded', () => {
        updateAboutContentPosition();
        updateServicesContentPosition();
        updateProjectsContentPosition();
      });

      //

      const scrollss = document.querySelectorAll(".scrolls");

      function scrollanimation() {
        if (window.scrollY > 10) {
          scrollss.forEach((scrolls) => {
            scrolls.classList.add("active");
          });
        } else if (window.scrollY === 0) {
          scrollss.forEach((scrolls) => {
            scrolls.classList.remove("active");
          });
        }
      }

      window.addEventListener("scroll", scrollanimation);

      // Loading Screen
      function preloadImages(callback) {
        const images = document.querySelectorAll("img"); // Select all img elements
        let imagesLoaded = 0;

        images.forEach((img) => {
          if (img.complete) {
            imagesLoaded++;
            if (imagesLoaded === images.length) callback();
          } else {
            img.onload = () => {
              imagesLoaded++;
              if (imagesLoaded === images.length) callback();
            };
            img.onerror = () => {
              console.error(`Failed to load image: ${img.src}`);
              imagesLoaded++;
              if (imagesLoaded === images.length) callback();
            };
          }
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        preloadImages(() => {
          const loadingScreen = document.querySelector(".loading-screen");
          const behindScreen = document.querySelector(".behind-screen");

          setTimeout(() => {
            loadingScreen.classList.add("done");
          }, 700);

          setTimeout(() => {
            behindScreen.classList.add("done");

            // Initialize scroll animation observer after the loading screen is gone
            const elements = document.querySelectorAll(".scroll-content"); // Select the elements to observe
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    entry.target.classList.add("active"); // Add 'active' class
                    observer.unobserve(entry.target); // Optional: stop observing after triggering
                  }
                });
              },
              { threshold: 0.3 } // Trigger when 30% of the element is visible
            );

            // Attach the observer to each element
            elements.forEach((element) => observer.observe(element));
          }, 1000); // Matches the behindScreen animation timing
        });
      });

      // Custom Cursor
      const cursor = document.querySelector(".cursor");
      document.addEventListener("mousemove", (e) => {
        cursor.setAttribute(
          "style",
          `top: ${e.pageY - window.scrollY}px; left: ${e.pageX}px;`
        );
      });
      document.addEventListener("click", () => {
        cursor.classList.add("active");
        setTimeout(() => {
          cursor.classList.remove("active");
        }, 200);
      });

      // disc scrolling Effect
      document.addEventListener("DOMContentLoaded", () => {
      // Custom Cursor
      const cursor = document.querySelector(".cursor");
      document.addEventListener("mousemove", (e) => {
        cursor.setAttribute(
          "style",
          `top: ${e.pageY - window.scrollY}px; left: ${e.pageX}px;`
        );
      });
      document.addEventListener("click", () => {
        cursor.classList.add("active");
        setTimeout(() => {
          cursor.classList.remove("active");
        }, 200);
      });

      // Disc scrolling Effect
      const disctwo = document.querySelector(".disctwo");
      const text = `I am a self-taught web developer with a strong passion for coding and creating impactful digital experiences. Over the past ${experience} months, I have dedicated myself to learning and mastering web development through hands-on projects, self-directed study, and constant practice. Despite being relatively new to this field, my skills and experience reflect a high level of competence and attention to detail. I thrive on working collaboratively with clients and team members to bring their vision to life by building user-friendly, visually appealing, and functional websites. My dedication to continuous learning and problem-solving has allowed me to develop a deep understanding of web technologies in a short period. I am eager to take on new challenges, grow my expertise, and contribute meaningfully to innovative projects.`;

      // Split the text into individual characters wrapped in span elements
      disctwo.innerHTML = text.split('').map(char => `<span>${char}</span>`).join('');

      const spans = disctwo.querySelectorAll('span');
      const totalLength = spans.length;
      let ticking = false;

      function updateTextBasedOnScroll() {
        const rect = disctwo.getBoundingClientRect();
        const viewportHeight = window.innerHeight;

        // Calculate visibility and scrolling progress
        const visibleHeight = Math.min(
          viewportHeight,
          Math.max(0, viewportHeight - rect.top)
        );
        const totalHeight = rect.height + viewportHeight;
        const scrollProgress = Math.min(
          1,
          Math.max(0, (visibleHeight - rect.height) / totalHeight)
        );

        // Speed up the effect by applying a multiplier to scrollProgress
        const speedMultiplier = 2; // Adjust this value to control the speed
        const charsToShow = Math.round(scrollProgress * totalLength * speedMultiplier);

        // Update the color of each character based on scroll progress
        spans.forEach((span, index) => {
          if (index < charsToShow) {
            span.style.color = 'var(--disc-color)';
          } else {
            span.style.color = 'var(--disc-scroll-color)';
          }
        });

        ticking = false; // Allow the next scroll update
      }

      function onScroll() {
        if (!ticking) {
          ticking = true;
          requestAnimationFrame(updateTextBasedOnScroll);
        }
      }

      window.addEventListener("scroll", onScroll);
      updateTextBasedOnScroll(); // Initial call to set the text based on initial scroll position
    });

      // Typing Effect
      const highliteTwo = document.querySelector(".highlite-two");
      const words = [
        "Web Developer",
        "Front-end Developer",
        "Web Designer",
        "FreeLancer",
      ];
      let currentWordIndex = 0;
      let currentText = words[currentWordIndex];
      let isDeleting = false;
      let charIndex = 0;
      let isPaused = false;

      function typeEffect() {
        if (isPaused) return; // Exit early if paused

        if (isDeleting) {
          // Decrease letters
          charIndex--;
          highliteTwo.textContent = currentText.slice(0, charIndex);
          if (charIndex === 0) {
            isDeleting = false;
            currentWordIndex = (currentWordIndex + 1) % words.length;
            currentText = words[currentWordIndex];
          }
        } else {
          // Increase letters
          charIndex++;
          highliteTwo.textContent = currentText.slice(0, charIndex);
          if (charIndex === currentText.length) {
            isPaused = true; // Pause after writing the word
            setTimeout(() => {
              isPaused = false; // Reset pause after delay
              isDeleting = true; // Start deleting
              typeEffect(); // Resume typing
            }, 2000); // Pause for 2 seconds
            return;
          }
        }

        const typingSpeed = isDeleting ? 100 : 200; // Faster when deleting
        setTimeout(typeEffect, typingSpeed);
      }
      typeEffect();

      //...
      const root = document.documentElement;
      document.addEventListener("DOMContentLoaded", () => {
        const lightMode = document.querySelector(".lightmode");
        const icons = document.querySelectorAll(".icon");
        const signimg = document.querySelector(".signimg");

        // Load light mode state from localStorage
        const isLightModeActive = localStorage.getItem("lightMode") === "true";

        if (isLightModeActive) {
          activateLightMode();
        }

        lightMode.addEventListener("click", () => {
          root.classList.toggle("active");
          icons.forEach((icon) => {
            icon.classList.toggle("active");
          });
          signimg.classList.toggle("active");

          if (root.classList.contains("active")) {
            lightMode.innerHTML = `<img src="icons/moon.png" class="icon active" style="filter: invert(1) brightness(2);">`;
            localStorage.setItem("lightMode", "true"); // Save state
          } else {
            lightMode.innerHTML = `<img src="icons/sun.png" class="icon" style="filter: invert(0) brightness(0.8);">`;
            localStorage.setItem("lightMode", "false"); // Save state
          }
        });

        function activateLightMode() {
          root.classList.add("active");
          icons.forEach((icon) => {
            icon.classList.add("active");
          });
          signimg.classList.add("active");
          lightMode.innerHTML = `<img src="icons/moon.png" class="icon active" style="filter: invert(1) brightness(2);">`;
        }
      });

      function themeColor(color) {
        root.style.setProperty("--accent-color", `${color}`);
        localStorage.setItem("themeColor", color);
      }
      document.addEventListener("DOMContentLoaded", () => {
        const savedColor = localStorage.getItem("themeColor");
        if (savedColor) {
          root.style.setProperty("--accent-color", savedColor);
        }
      });

      // Select buttons and panel
      const settingsButton = document.querySelector(".settings");
      const lightModeButton = document.querySelector(".lightmode");
      const settingsPanel = document.querySelector(".settings-panel");
      const upperbuttons = document.querySelectorAll(".upperbutton");

      // Toggle panel visibility on settings button click
      settingsButton.addEventListener("click", () => {
        settingsPanel.classList.toggle("active");
        upperbuttons.forEach((upperbutton) => {
          upperbutton.classList.toggle("push");
        });
      });

      let isTransitioning = false; // Flag to track if a transition is happening

      const header = document.querySelector("header");
      const headerbtns = document.querySelectorAll("header button");
      const signatureCont = document.querySelector(".signature-container");
      const homeContent = document.querySelector(".home-content");
      const profileimg = document.querySelector(".profileimg");

      //transforming header

      function transHeader() {
        if (isTransitioning) return; // Prevent further transitions if already transitioning

        isTransitioning = true; // Set the flag to true when transitioning

        signatureCont.classList.add("trans");
        setTimeout(() => {
          header.classList.add("trans");
          headerbtns.forEach((headerbtn) => {
            headerbtn.classList.add("trans");
          })
        }, 100);

        setTimeout(() => {
          header.classList.add("transtwo");
          lightModeButton.classList.add("trans");
          settingsPanel.classList.add("trans");
          settingsButton.classList.add("trans");
          homeContent.classList.add("trans");
          isTransitioning = false; // Reset the flag once the transition is complete
        }, 500);
        setTimeout(() => {
          headerbtns.forEach((headerbtn) => {
            headerbtn.classList.add("transtwo");
          });
        }, 700);
      }

      function reverseTrans() {
        if (isTransitioning) return; // Prevent reverse transition while transitioning

        isTransitioning = true; // Set the flag to true when transitioning

        homeContent.classList.remove("trans");
        headerbtns.forEach((headerbtn) => {
          headerbtn.classList.remove("transtwo");
        });
        header.classList.remove("transtwo");
        header.classList.add("transthree");
        lightModeButton.classList.remove("trans");
        settingsButton.classList.remove("trans");
        settingsPanel.classList.remove("trans");

        setTimeout(() => {
          header.classList.remove("trans", "transthree");
          isTransitioning = false;
        }, 300);
        setTimeout(() => {
          headerbtns.forEach((headerbtn) => {
            headerbtn.classList.remove("trans", "transtwo");
          });
          signatureCont.classList.remove("trans");
        }, 500);
      }

      const servicesTitle = document.querySelector('.services-title');
      const projectsTitle = document.querySelector('.projects-title');
      function handleScroll() {
      // Handle header transition
      if (window.scrollY > 2) {
        if (!header.classList.contains("trans")) {
          transHeader();
        }
      } else {
        if (header.classList.contains("trans")) {
          reverseTrans();
        }
      }

      // Handle services title transition
      if (window.scrollY > 1450) {
        servicesTitle.classList.add('trans');
      } else {
        servicesTitle.classList.remove('trans');
      }

      // Handle services title transition
      if (window.scrollY > 2450) {
        projectsTitle.classList.add('trans');
      } else {
        projectsTitle.classList.remove('trans');
      }
    }

      // Attach or detach scroll event based on window width
      function updateScrollHandler() {
        if (window.innerWidth >= 1000) {
          window.onscroll = handleScroll;
        } else { 
          window.onscroll = null;
        }
      }
      if (window.innerWidth >= 1000) {
        updateScrollHandler();

        window.addEventListener("resize", updateScrollHandler);
      } else if (window.innerWidth < 1000) {
        servicesTitle.classList.add('trans');
      }

      //
      
      let leftPathHtml = ``;
      //path generator
      for (let i = 0; i < paths.length/2; i++) {
        console.log(i);
        leftPathHtml += `
          <div class="path-item">
              <div class="about-date">
                <img src="icons/calendar.png" class="icon">
                <p>${paths[i].date}</p>
              </div>
              <div class="path-content">
                <h2>${paths[i].title}</h2>
                <p>${paths[i].disc}</p>
              </div>
            </div>
          </div>
      `;
      }
      document.querySelector('.path-left').innerHTML = leftPathHtml;
      let rightPathHtml = ``;
      for (let i = Math.ceil(paths.length / 2); i < paths.length; i++) {
        console.log(i);
        rightPathHtml += `
          <div class="path-item">
              <div class="about-date">
                <img src="icons/calendar.png" class="icon">
                <p>${paths[i].date}</p>
              </div>
              <div class="path-content">
                <h2>${paths[i].title}</h2>
                <p>${paths[i].disc}</p>
              </div>
            </div>
          </div>
      `;
      }
      document.querySelector('.path-right').innerHTML = rightPathHtml;
    </script>
  </body>
</html>
